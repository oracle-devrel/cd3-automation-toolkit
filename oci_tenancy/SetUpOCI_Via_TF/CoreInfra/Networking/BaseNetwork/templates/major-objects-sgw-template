
#Create SGW
resource "oci_core_service_gateway" "{{ sgw_tf_name }}" {
    #Required
    compartment_id = var.{{ compartment_tf_name }}
    services {
        #Required
        service_id =  contains(split("-",data.oci_core_services.oci_services.services.0.cidr_block),"all") == true ? data.oci_core_services.oci_services.services.0.id : data.oci_core_services.oci_services.services.1.id

    }
    vcn_id = oci_core_vcn.{{ vcn_tf_name }}.id

    #Optional
    display_name = "{{ sgw_name }}"
}
