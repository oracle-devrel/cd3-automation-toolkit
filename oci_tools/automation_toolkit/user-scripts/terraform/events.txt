// Copyright (c) 2021, 2022, Oracle and/or its affiliates.

############################
# Module Block - ManagementServices
# Create Events
############################

module "events" {
  source                = "./modules/managementservices/event"
  for_each              = var.events != null ? var.events : {}

  event_name           = each.value.event_name
  compartment_name = each.value.compartment_name != null ? (length(regexall("ocid1.compartment.oc1*", each.value.compartment_name)) > 0 ? each.value.compartment_name : var.compartment_ocids[0][each.value.compartment_name]) : var.tenancy_ocid
  is_enabled  = each.value.is_enabled
  description      = each.value.description
  condition        = each.value.condition
  actions          = each.value.actions

  #Optional
  defined_tags  = each.value.defined_tags
  freeform_tags = each.value.freeform_tags
}

